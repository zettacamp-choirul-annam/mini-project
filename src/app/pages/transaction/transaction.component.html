<div class="container">
      <div class="toolbar">
            <div class="tab">
                  <div class="tab-item" [ngClass]="{ active: currentTab == 'history' }" (click)="switchTab('history')">History</div>
                  <div class="tab-item" [ngClass]="{ active: currentTab == 'ratings' }" (click)="switchTab('ratings')">Ratings</div>
            </div>
      </div>

      <ngx-skeleton-loader class="card-container" count="3" animation="progress" *ngIf="isLoad"></ngx-skeleton-loader>

      <div class="content" *ngIf="!isLoad">
            <div *ngIf="currentTab == 'history'; then history_template else rating_template"></div>
      </div>
</div>

<ng-template #history_template>
      <div class="card-container">
            <app-card 
                  *ngFor="let transaction of transactions" [transaction]="transaction" 
                  [role]="role"
                  [transId]="transaction._id"
                  (_rate)="onRate($event)">
            </app-card>
      </div>
      <mat-paginator 
            (page)="onPaginatorChange($event)" 
            [pageIndex]="pagination.page" 
            [pageSize]="pagination.limit" 
            [length]="pagination.total">
      </mat-paginator>
</ng-template>

<ng-template #rating_template>
      <div class="rating-container">
            <div class="rating" *ngFor="let rating of ratings">
                  <div class="menu">
                        <img [src]="rating.recipe_id.picture" alt="" class="menu-picture">
                        <div class="menu-name">{{ rating.recipe_id.name }}</div>
                  </div>
                  <div class="rating-info">
                        <div class="rating-star">
                              <i-feather name="star" *ngFor="let i of [1, 2, 3, 4, 5]" [ngClass]="{ active: rating.rating_value >= i }"></i-feather>
                        </div>
                        <div class="rating-date">{{ rating.rating_date }}</div>
                  </div>
                  <div class="rating-review">{{ rating.review }}</div>
            </div>
      </div>
</ng-template>